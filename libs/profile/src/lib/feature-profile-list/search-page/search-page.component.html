<app-profile-filters></app-profile-filters>

<div
  class="profile-card__wrapper"
  infiniteScroll
  [infiniteScrollDistance]="2"
  [infiniteScrollThrottle]="50"
  [infiniteScrollContainer]="'app-search-page'"
  [fromRoot]="true"
  (scrolled)="onScroll()">
  @for(profile of profiles().profiles; track $index) { @if (me(); as me) {
  <app-profile-card
    [me]="me.id === profile.id ? me : null"
    [profile]="profile"
    [isSubscribed]="profile.isSubscription ?? false"
    (chatted)="toChat($event)"
    (subscriptionCreated)="toSubscribe($event)"
    (subscriptionDeleted)="toUnsubscribe($event)">
  </app-profile-card>
  } }
</div>
